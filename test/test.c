#ifndef Arduino_h
#include <stdio.h>

// 基于您提供的逻辑的 Week 函数。
// 已修改为打印其输入和计算得到的 'week_val'。
void Week(int y, int m, int d) {
    // 存储原始的 m 以便打印，因为 m 可能在本地被修改。
    int original_m = m;
    // 存储原始的 y 以便在计算中清晰显示（如果需要），尽管 y 在本地未被修改。
    int original_y = y;

    // 公式中的月份调整
    if (m == 1) {
        m = 13;
        // 严重缺陷：对于此类算法，当一月(月份1)被视为月份13时，应当将年份 y 减 1（y--）。
        // 提供的逻辑并未执行此操作。
    }
    if (m == 2) {
        m = 14;
        // 严重缺陷：对于此类算法，当二月(月份2)被视为月份14时，应当将年份 y 减 1（y--）。
        // 提供的逻辑并未执行此操作。
    }

    // 计算使用原始的 y 参数和可能被修改的本地 m。
    int week_val = (d + 2 * m + 3 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7 + 1;

    printf("输入: 年=%d, 月=%02d, 日=%02d -> 公式使用 年=%d, 月(调整)=%2d, 日=%2d -> 计算的星期值: %d\n",
           original_y, original_m, d,
           y, m, d,
           week_val);
    // 注意：'week_val' 的具体映射（例如 1=星期日 或 1=星期一 等）并未由该函数本身定义。
    // 由于未对一月/二月进行年份调整，这些月份的 'week_val' 将无法与标准的星期计算结果一致。
}

int main() {
    printf("测试 Week 函数（演示其行为，包括一月/二月日期的缺陷）：\n");
    printf("----------------------------------------------------------------------------------------------\n");

    // 测试用例1：2024年1月2日
    // 实际星期：星期二
    Week(2024, 1, 2);

    // 测试用例2：2024年2月29日（闰日）
    // 实际星期：星期四
    Week(2024, 2, 29);

    // 测试用例3：2024年3月1日
    // 实际星期：星期五
    // 对于三月及以后月份，年份调整缺陷不会触发。
    Week(2024, 3, 1);

    // 测试用例4：2024年10月27日
    // 实际星期：星期日
    Week(2024, 10, 27);

    // 测试用例5：2025年5月25日
    // 实际星期：星期日（例如该思考过程的当前日期）
    Week(2025, 5, 25);

    // 测试用例6：非闰年二月
    // 2025年2月28日
    // 实际星期：星期五
    Week(2025, 2, 28);
    
    printf("----------------------------------------------------------------------------------------------\n");
    printf("\n作为参考，标准的星期数字（如果 1=星期一，2=星期二，...，7=星期日）：\n");
    printf(" - 2024年1月2日 是星期二   （值：2）\n");
    printf(" - 2024年2月29日 是星期四 （值：4）\n");
    printf(" - 2024年3月1日 是星期五   （值：5）\n");
    printf(" - 2024年10月27日 是星期日 （值：7）\n");
    printf(" - 2025年5月25日 是星期日 （值：7）\n");
    printf(" - 2025年2月28日 是星期五 （值：5）\n");
    printf("\n将这些标准值与您的函数输出的“计算的星期值”进行比较。\n");
    printf("您会注意到差异，尤其是一月和二月，这是由于 Week 函数中缺少年份调整所致。\n");
    printf("对于三月至十二月，如果 “计算的星期值” 按 1=星期一...7=星期日 映射，则该函数在这些月份似乎是正确的。\n");

    return 0;
}
#endif